# Como Obter Credenciais da API Vonage

## üìã Pr√©-requisitos
- Conta no Vonage (gratuita)
- Acesso ao Dashboard do Vonage

## üîë Passo 1: Criar Conta no Vonage

1. Acesse: https://dashboard.nexmo.com/sign-up
2. Crie sua conta gratuita
3. Confirme seu email
4. Fa√ßa login no dashboard

## üèóÔ∏è Passo 2: Criar uma Aplica√ß√£o

### No Dashboard do Vonage:

1. **Acesse Applications**:
   - No menu lateral, clique em "Applications"
   - Ou v√° direto: https://dashboard.nexmo.com/applications

2. **Criar Nova Aplica√ß√£o**:
   - Clique em "Create a new application"
   - Nome: `ZK Premios WhatsApp`
   - Selecione "Messages" capability

3. **Configurar Messages**:
   - **Inbound URL**: `http://localhost:3001/webhooks/inbound` (para desenvolvimento)
   - **Status URL**: `http://localhost:3001/webhooks/status` (para desenvolvimento)
   - Clique em "Generate new application"

4. **Gerar Par de Chaves** (PASSO CR√çTICO):
   - Ap√≥s criar a aplica√ß√£o, voc√™ ver√° a p√°gina de detalhes
   - Procure por "Public/Private Keypair" ou "Generate keypair"
   - Clique em "Generate public/private key pair"
   - **ATEN√á√ÉO**: Uma janela popup aparecer√° com:
     - Chave p√∫blica (na tela)
     - Bot√£o "Download private key" ou "Save private key"
   - **Clique no bot√£o de download IMEDIATAMENTE**
   - O arquivo `private.key` ser√° baixado para sua pasta Downloads
   - **IMPORTANTE**: Esta √© sua √öNICA chance de baixar a chave privada!

## üîç Passo 3: ONDE EXATAMENTE BAIXAR A CHAVE PRIVADA

### üìç Localiza√ß√£o no Dashboard:

**Op√ß√£o 1 - Durante a cria√ß√£o da aplica√ß√£o:**
1. Ap√≥s clicar em "Generate new application"
2. Na p√°gina de confirma√ß√£o, procure por "Generate public/private key pair"
3. Clique no bot√£o ‚Üí Popup aparece ‚Üí Clique "Download private key"

**Op√ß√£o 2 - Em aplica√ß√£o existente:**
1. Dashboard ‚Üí Applications ‚Üí [Sua aplica√ß√£o]
2. Na p√°gina da aplica√ß√£o, procure se√ß√£o "Authentication"
3. Procure por:
   - "Public/Private Keypair"
   - "Generate keypair" 
   - "Manage keys"
   - Bot√£o "Generate public/private key pair"
4. Clique ‚Üí Popup ‚Üí Download

**Op√ß√£o 3 - Se n√£o encontrar:**
1. Clique em "Edit application" (bot√£o no topo)
2. Role at√© encontrar se√ß√£o de chaves/keys
3. Clique "Generate public/private key pair"
4. Download imediato do arquivo

### üéØ O que procurar:
- Texto: "Public/Private Keypair"
- Bot√£o: "Generate public/private key pair"
- Popup com: "Download private key"
- Arquivo baixado: `private.key` ou `application_name.key`

## üîç Passo 4: Encontrar suas Outras Credenciais

### API Key e API Secret:
1. No dashboard, v√° para "Getting Started" ou "API Settings"
2. Voc√™ ver√°:
   - **API Key**: Uma string como `abcd1234`
   - **API Secret**: Uma string como `AbCdEfGhIjKlMnOp`

### Application ID:
1. V√° para "Applications"
2. Clique na aplica√ß√£o que voc√™ criou
3. Copie o **Application ID** (algo como `aaaaaaaa-bbbb-cccc-dddd-0123456789ab`)

### Private Key:
1. Use o arquivo `private.key` que voc√™ baixou
2. Abra o arquivo e copie todo o conte√∫do
3. Deve come√ßar com `-----BEGIN PRIVATE KEY-----`

### Public Key:
1. A chave p√∫blica √© exibida no dashboard ap√≥s gerar o par
2. Come√ßa com `-----BEGIN PUBLIC KEY-----`
3. **Nota**: Para WhatsApp, voc√™ precisa principalmente da chave PRIVADA

## ‚öôÔ∏è Passo 4: Configurar no Projeto

### Edite o arquivo `.env`:

```env
# Vonage Configuration (REAL MODE)
VITE_VONAGE_REAL_MODE=false
VITE_VONAGE_API_KEY=sua_api_key_aqui
VITE_VONAGE_API_SECRET=seu_api_secret_aqui
VITE_VONAGE_APPLICATION_ID=seu_application_id_aqui
VITE_VONAGE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
Sua chave privada aqui (m√∫ltiplas linhas)
-----END PRIVATE KEY-----"
# Nota: A chave p√∫blica fica no dashboard do Vonage, n√£o precisa no .env
```

### ‚úÖ SUAS CREDENCIAIS (baseado no que voc√™ mostrou):
```env
VITE_VONAGE_REAL_MODE=false
VITE_VONAGE_API_KEY=1f83881f
VITE_VONAGE_API_SECRET=SEU_API_SECRET_AQUI
VITE_VONAGE_APPLICATION_ID=2ac17003-9897-415e-b1f4-db6b2c059b2c
VITE_VONAGE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
SUA_CHAVE_PRIVADA_AQUI
-----END PRIVATE KEY-----"
```

### üîç O que voc√™ ainda precisa:
1. **API SECRET**: Encontre no dashboard junto com a API Key
2. **CHAVE PRIVADA**: Siga os passos abaixo ‚¨áÔ∏è

## üß™ Passo 5: Testar a Configura√ß√£o

1. **Modo Simula√ß√£o** (recomendado primeiro):
   ```env
   VITE_VONAGE_REAL_MODE=false
   ```

2. **Executar o teste**:
   - Abra a aplica√ß√£o
   - Teste o envio de mensagem
   - Verifique os logs no console

3. **Modo Real** (ap√≥s testar simula√ß√£o):
   ```env
   VITE_VONAGE_REAL_MODE=true
   ```

## üîí Seguran√ßa

### ‚ö†Ô∏è NUNCA fa√ßa:
- Commit das credenciais no Git
- Compartilhe suas chaves
- Use credenciais de produ√ß√£o em desenvolvimento

### ‚úÖ Sempre fa√ßa:
- Use `.env` para credenciais
- Mantenha `.env` no `.gitignore`
- Use modo simula√ß√£o para testes
- Rotacione chaves periodicamente

## üÜò Problemas Comuns

### ‚ùå "N√£o consigo encontrar a chave privada":
**SOLU√á√ÉO PARA SUA APLICA√á√ÉO "ZK Premios"**:
1. No dashboard, clique na aplica√ß√£o "ZK Premios"
2. Voc√™ ver√° "PUBLIC KEY: Added" (como mostrou)
3. Procure por um bot√£o pr√≥ximo como:
   - "Download private key"
   - "Generate new keypair"
   - "Manage keys"
4. **SE N√ÉO ENCONTRAR**: Clique "Edit application"
5. Procure se√ß√£o "Authentication" ou "Keys"
6. Clique "Generate public/private key pair"
7. **BAIXE IMEDIATAMENTE** o arquivo private.key

### ‚ùå "Perdi a chave privada":
**SOLU√á√ÉO**:
1. Gere um novo par de chaves na aplica√ß√£o
2. Baixe o novo arquivo private.key
3. Atualize o .env com a nova chave

### ‚ùå "Invalid API Key":
- Verifique se copiou corretamente
- Confirme que n√£o h√° espa√ßos extras
- Teste com credenciais novas

### ‚ùå "Application not found":
- Verifique o Application ID
- Confirme que a aplica√ß√£o tem capability "Messages"

### ‚ùå "Invalid Private Key":
- Verifique se copiou a chave completa
- Inclua as linhas BEGIN/END
- Use aspas duplas no .env

## üìû Suporte

- **Documenta√ß√£o**: https://developer.vonage.com/
- **Dashboard**: https://dashboard.nexmo.com/
- **Suporte**: https://developer.vonage.com/support

## üéØ Pr√≥ximos Passos

1. Configure as credenciais no `.env`
2. Teste no modo simula√ß√£o
3. Configure webhooks para produ√ß√£o
4. Implemente tratamento de status
5. Configure n√∫mero WhatsApp Business

---

**Lembre-se**: Comece sempre com o modo simula√ß√£o (`VITE_VONAGE_REAL_MODE=false`) para testar sua integra√ß√£o antes de usar credenciais reais!
# üöÄ Guia de Deploy na Vercel

## Erro Identificado
```
Missing Supabase environment variables: Object
Uncaught Error: Missing Supabase environment variables. Please check your .env file.
```

## Causa do Problema
As vari√°veis de ambiente do arquivo `.env` local n√£o s√£o automaticamente transferidas para a Vercel. √â necess√°rio configur√°-las manualmente no painel da Vercel.

## ‚úÖ Solu√ß√£o: Configurar Vari√°veis de Ambiente na Vercel

### Passo 1: Acessar o Painel da Vercel
1. Acesse [vercel.com](https://vercel.com)
2. Fa√ßa login na sua conta
3. Selecione o projeto `kpremios`
4. V√° para **Settings** ‚Üí **Environment Variables**

### Passo 2: Adicionar as Vari√°veis Necess√°rias
Adicione as seguintes vari√°veis de ambiente:

#### üîµ Supabase (OBRIGAT√ìRIAS)
‚ö†Ô∏è **IMPORTANTE**: Use suas pr√≥prias credenciais do Supabase, n√£o as do exemplo!

```
VITE_SUPABASE_URL=https://SEU_PROJETO.supabase.co
VITE_SUPABASE_ANON_KEY=sua_chave_anonima_aqui
```

**Como obter suas credenciais:**
1. Acesse [supabase.com](https://supabase.com)
2. V√° para seu projeto
3. Settings ‚Üí API
4. Copie a **URL** e **anon/public key**

#### üü¢ Vonage (OPCIONAIS - para WhatsApp)
‚ö†Ô∏è **IMPORTANTE**: Use suas pr√≥prias credenciais do Vonage!

```
VITE_VONAGE_REAL_MODE=true
VITE_VONAGE_API_KEY=sua_api_key_aqui
VITE_VONAGE_API_SECRET=seu_secret_aqui
VITE_VONAGE_APPLICATION_ID=seu_application_id_aqui
VITE_VONAGE_WHATSAPP_FROM=seu_numero_sem_plus
VITE_VONAGE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----
sua_chave_privada_completa_aqui
-----END PRIVATE KEY-----
```

**Como obter suas credenciais:**
1. Consulte o arquivo `SUAS_CREDENCIAIS_VONAGE.md`
2. Ou acesse [developer.vonage.com](https://developer.vonage.com)
3. Configure sua aplica√ß√£o WhatsApp

### Passo 3: Configurar Ambientes
Para cada vari√°vel, configure os ambientes:
- ‚úÖ **Production** (obrigat√≥rio)
- ‚úÖ **Preview** (recomendado)
- ‚úÖ **Development** (opcional)

### Passo 4: Fazer Redeploy
Ap√≥s adicionar as vari√°veis:
1. V√° para **Deployments**
2. Clique nos **3 pontos** do √∫ltimo deploy
3. Selecione **Redeploy**
4. Aguarde o build completar

## üîß Verifica√ß√£o Local
Para testar localmente se as vari√°veis est√£o corretas:

```bash
# No terminal do projeto
npm run dev
```

Verifique no console do navegador se aparece:
```
Supabase Config: { url: 'Set', key: 'Set' }
```

## üö® Problemas Comuns

### 1. Favicon 404
```
/zk-favicon.svg:1 Failed to load resource: the server responded with a status of 404
```
**Solu√ß√£o**: Adicionar o arquivo `zk-favicon.svg` na pasta `public/`

### 2. Vari√°veis n√£o carregam
- Verifique se o nome est√° exato (incluindo `VITE_`)
- Confirme se foi salvo para o ambiente correto
- Fa√ßa redeploy ap√≥s adicionar vari√°veis

### 3. Chave privada com quebras de linha
Para a `VITE_VONAGE_PRIVATE_KEY`, mantenha as quebras de linha:
```
-----BEGIN PRIVATE KEY-----
[conte√∫do da chave]
-----END PRIVATE KEY-----
```

## üìã Checklist de Deploy

- [ ] Vari√°veis do Supabase configuradas
- [ ] Vari√°veis do Vonage configuradas (se usar WhatsApp)
- [ ] Ambientes selecionados (Production + Preview)
- [ ] Redeploy realizado
- [ ] Teste da aplica√ß√£o funcionando
- [ ] Console sem erros de vari√°veis

## üéØ Resultado Esperado
Ap√≥s seguir estes passos:
- ‚úÖ App carrega sem erros de vari√°veis
- ‚úÖ Supabase conecta corretamente
- ‚úÖ WhatsApp Vonage funciona (se configurado)
- ‚úÖ Todas as funcionalidades operacionais

---

**üí° Dica**: Mantenha as vari√°veis de ambiente sempre atualizadas tanto localmente quanto na Vercel para evitar inconsist√™ncias.